{% extends "base.html" %}
{% import "tools/form_tools.html" as formtools %}

{% block content %}
    <div class="row">
        <div class="col">
            <div class="jumbotron" style="padding: 10px;">

              {{ formtools.form_header(
                pageTitle,
                pageSubtitle,
                icon_url=iconUrl,
              ) }}


              <form method="post" name="editledger" action="{{ formaction }}">
                {{ ledgerform.hidden_tag() }}

                <div class="form-group">
                  <label for="fullname">Ledger ID</label>
                  {%- if lockLedgerId %}
                    {{ ledgerform.ledgerId(class_="form-control",readonly='x',tabindex=1) }}
                  {% else %}
                    {{ ledgerform.ledgerId(class_="form-control",tabindex=1) }}
                  {% endif %}
                  {% for error in ledgerform.ledgerId.errors %}
                    <small class="form-text text-muted">{{ error }}</small>
                  {% endfor %}
                </div>
                <div class="form-group">
                  <label for="fullname">Ledger name</label>
                  {{ ledgerform.name(class_="form-control",tabindex=2) }}
                  {% for error in ledgerform.name.errors %}
                    <small class="form-text text-muted">{{ error }}</small>
                  {% endfor %}
                </div>
                <div class="form-group">
                  <label for="fullname">Description</label>
                  {{ ledgerform.description(class_="form-control",tabindex=3) }}
                  {% for error in ledgerform.description.errors %}
                    <small class="form-text text-muted">{{ error }}</small>
                  {% endfor %}
                </div>

                <div class="form-group">
                  {{ ledgerform.submit(class_='btn btn-primary btn-md',style='margin-right: 25px;',tabindex=4) }}
                  <a href="{{ backToUrl }}" class="btn btn-success" tabindex="5">
                    Cancel
                  </a>
                </div>

              </form>

              {% if actorform %}
                <p>ACTOR FORM HERE</p>
              {% endif %}

              {% if handleUsers %}
                <div>
                  IN:
                  {% for u in usersInLedger %}
                    <a href="{{ url_for('accountingRemoveUserFromLedgerView', ledgerId=ledger.ledger_id, username=u.username) }}" class="badge badge-primary">
                      {{ u.fullname }}
                    </a>
                  {% endfor %}
                </div>
                <div>
                  OUT:
                  {% for u in usersOutsideLedger %}
                    <a href="{{ url_for('accountingAddUserToLedgerView', ledgerId=ledger.ledger_id, username=u.username) }}" class="badge badge-secondary">
                      {{ u.fullname }}
                    </a>
                  {% endfor %}
                </div>
              {% endif %}

            </div>
        </div>
    </div>

{% endblock %}
